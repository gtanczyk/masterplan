<html>

<head>
	<title>Master Plan - js13k 2018 entry by gtanczyk</title>

	<style>
#game-intro{z-index:5;position:absolute;text-align:center;height:100%;width:100%;display:none}#game-intro.visible li,#game-intro.visible p{font-size:20px}#game-intro.visible button{font-size:40px}#game-intro.visible{display:block;text-align:left;width:800px;margin-left:50%;left:-400px;padding:10 20;background:#9cc;box-shadow:-1px -7px 20px 2px #00000075}#game-intro .field-unit[data-unit-type]:before{display:none!important}#game-intro .field-unit{width:32px;height:32px;position:relative;display:inline-block}#game-intro ul li{list-style:none}#game-hud{position:fixed;z-index:2;pointer-events:none;width:100%;height:100%;display:none;font-family:monospace}#battle-result:empty{display:none}#battle-result:not(:empty) div{width:404px;height:300px;color:red;left:50%;top:50%;margin:-150px -150px;text-align:center;position:absolute;font-size:30px;background:rgba(0,0,0,.25)}#battle-result:not(:empty){width:100%;height:100%;display:block;background:rgba(0,0,0,.3);position:fixed}#battle-result span.result{color:#000;font-weight:700;animation:blinker 1s linear infinite}@keyframes blinker{50%{opacity:0}}#battle-result span.winner{position:absolute;top:80px;left:0;right:0;font-weight:700}#battle-result span.loser{position:absolute;top:120px;left:0;right:0}#battle-result span.continue{color:#fff;position:absolute;font-size:15px;bottom:5px;left:5px}#battle-result span{display:block}#battle-stats{position:absolute;background:rgba(0,0,0,.25);padding:20px}#battle-time:before{content:'Timer: ' attr(data-time);display:block;font-size:30px;margin-bottom:10px;color:#fff}#battle-balance:before{display:block;content:"Who is winning?";font-size:30px;width:300px;color:#fff}#battle-balance-left{display:inline-block;height:30px;width:50%;background:red;float:left}#battle-balance-right{display:inline-block;height:30px;width:50%;background:#0fde0f;float:right}#battle-balance-left,#battle-balance-right{overflow:hidden;text-overflow:hidden}#battle-balance-left[data-winning=true],#battle-balance-right[data-winning=true]{border:1px solid #ff0;box-sizing:border-box}#battle-balance-left[data-username]:before,#battle-balance-right[data-username]:before{display:block;content:attr(data-username);margin-left:3px}#battle-balance-left[data-winning=true]:before,#battle-balance-right[data-winning=true]:before{display:block;content:"Winning!";margin-left:3px}#game-designer:not(.visible){display:none}#game-designer{width:800px;margin:0 auto;padding:10 20;background:#9cc;box-shadow:-1px -7px 20px 2px #00000075}#battle-versus:not(:empty){font-weight:700;background:rgba(0,0,0,.8);padding:10px 20px;color:#fff}#game-designer h2,#game-designer h3,#game-designer p{margin-top:5px;margin-bottom:0}#designer-field{background:#00c800;border:2px solid rgba(0,100,0);position:relative;transform:scale(.5);transform-origin:top left;margin-bottom:-400px}#designer-field:not(.select)~.designer-unit-option{pointer-events:none;opacity:.5}#designer-actions,#designer-commands,#designer-formation,#designer-unit-type{display:inline-block}#designer-actions{float:right;background:rgba(0,0,0,.25);padding:10px}#designer-field.drag{cursor:move}#designer-field.drag .field-unit{pointer-events:none}.field-unit{background:rgba(255,0,0,.5);position:absolute}.field-unit.drag{opacity:.5}.field-unit.select{border:1px solid orange}.field-unit:not(.select):not(.drag){cursor:pointer}.field-unit[data-command]:after{display:block;content:attr(data-command);position:absolute;color:#fff;background:rgba(0,0,0,.25);padding:2px}.field-unit[data-unit-type]:before{content:attr(data-unit-type);display:block;position:absolute;color:#fff;background:rgba(0,0,0,.25);margin-top:-20px;padding:2px}.field-unit[data-unit-type=warrior]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gkDEigyAtVVggAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAB4SURBVFjD7VfLDsAgCIOF///l7rSTizp5aJZyMxFtoMUqsjnUmQ/vudfuChBAVKDDh7MroAsMD73bgqSKhb1UAQHIQ0J8II2yBRktqBzXzboSgL4NLcsgFklIAJUyRI/hv/aEIw847RHNWfLjXS8ow4xXrOzTUhI3cssYNHqG9WQAAAAASUVORK5CYII=)}.field-unit[data-unit-type=tank]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gkJDBsdJGpj9QAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAACjSURBVFjD7VbREoAgCHMe///L6zW9wgLErpOnNLkNnACKzfjwHEYHallsHgLwRP6LDISYOHx5SjW71LNEqXT2K0AAiMcgCUDQMDJEyFkitOiMuw5sAqsJoP+WRHBerWVB9E3f2CLcBMTxjLRGkzITsgOEZZaoL9iaACJSikHkWnYw+idKsbAAa4Oru4wyyK/Zqy/Fll4HosBvrw8WJ2cXRPmSHSqNI0GjWZKJAAAAAElFTkSuQmCC)}.field-unit[data-unit-type=archer]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gkDEigk9gHg0wAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAACySURBVFjD1VZbDsAgCLPE+1+5+13cIqI8Nn7JpNAW1lpx4PB7brzLe16SG34AloLiqADAjAJUir/mJQHYVOjdeZS0uqw7WXcU2DLnUjH2SACm4hEAzJtVkjzOKABURKlORw461vheoqNvcMxFsTFSAzDm4bkJYaAJnraZFaeHJU9vAKMWx+zA8LRrOEwCFs49bPipGLk3a0HaT0PrdHkSu79k+FrH2/egXAPyF8FV0JcTF5HDMyNBbtWDAAAAAElFTkSuQmCC)}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{padding:0;margin:0;font-size:16px;background:radial-gradient(ellipse at center,#30c530 0,#30c530 64%,#138c13 100%)}body button,body input{font-size:16px}body>canvas{width:100%;height:100%;position:absolute;pointer-events:none}canvas#layer-default{background:radial-gradient(ellipse at center,#30c530 0,#30c530 64%,#138c13 100%);z-index:1}canvas#layer-water{z-index:0}body>img{display:none;visibility:hidden}
</style>

	<script>
(function(){var f;function h(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a}function aa(a){a=a||"layer-default";var b=ba[a];return b?b:ba[a]=new ca(a)}function da(){var a;a="layer-default";var b=ba[a];b&&(b.Y(),delete ba[a])}function ca(a){this.A=document.createElement("canvas");this.A.id=a;this.D=this.A.getContext("2d");window.addEventListener("resize",this.ua.bind(this));this.ua();document.body.appendChild(this.A)}var ba={};f=ca.prototype;f.Y=function(){document.body.removeChild(this.A)};
f.P=function(){return this.A.width};f.S=function(){return this.A.height};f.fillStyle=function(a){this.D.fillStyle=a;return this};f.fillRect=function(a,b,c,d){this.D.fillRect(a,b,c,d);return this};f.arc=function(a,b,c){this.D.beginPath();this.D.arc(a,b,c,0,2*Math.PI);this.D.stroke();return this};f.drawImage=function(a,b,c){this.D.drawImage(a,b,c);return this};f.scale=function(a){this.D.scale(a,a);return this};f.translate=function(a,b){this.D.translate(a,b);return this};
f.rotate=function(a){this.D.rotate(a);return this};f.save=function(){this.D.save();return this};f.restore=function(){this.D.restore();return this};f.D=function(){return this.D};f.ua=function(){this.A.width=window.innerWidth;this.A.height=window.innerHeight;this.D=this.A.getContext("2d")};function ga(){return m(null,"RgYEBAMEAgIGBAQIBAICBgQEDQQCAgYEBBIEAwIGBAQXBAMCBgQEHAQCAgYEBCEEAgIGBAQmBAICBhABEgoBAgYQARcMAQI=")}
window.addEventListener("keydown",function(a){37==a.keyCode&&r(ha);38==a.keyCode&&r(ia);39==a.keyCode&&r(ja);40==a.keyCode&&r(ka);27==a.keyCode&&r(la);r(ma,a.keyCode)});window.addEventListener("keyup",function(a){37==a.keyCode&&r(na);38==a.keyCode&&r(oa);39==a.keyCode&&r(pa);40==a.keyCode&&r(qa);r(xa,a)});window.addEventListener("mousedown",function(a){r(ya,a)});window.addEventListener("mouseup",function(a){r(za,a)});window.addEventListener("mousemove",function(a){r(Aa,a)});
window.addEventListener("click",function(a){r(u,a)});var x=0,Ba=x++,Ca=x++,Da=x++,Ea=x++,Fa=x++,Ga=x++,Ha=x++,Ia=x++,Ja=x++;x++;x++;var la=x++,ya=x++,za=x++,Aa=x++,u=x++,ma=x++,xa=x++,ha=x++,ja=x++,ia=x++,ka=x++,na=x++,pa=x++,oa=x++,qa=x++;x++;var Ka=x++,La=x++,Ma=(new Date).getTime();function Na(){var a=(new Date).getTime();r(Da,a-Ma);Ma=a;requestAnimationFrame(Na)}requestAnimationFrame(Na);document.onreadystatechange=function(){r(Ea,document.readyState)};
document.addEventListener("visibilitychange",function(){document.hidden?r(Fa):r(Ga)});window.addEventListener("hashchange",function(){r(Ba,document.location.hash)});window.addEventListener("resize",function(){r(Ja)});function Oa(){this.A=function(a){for(var b=0;24>b;b++)this[String.fromCharCode(97+b)]=a[b]||0;.01>this.c&&(this.c=.01);a=this.b+this.c+this.e;.18>a&&(a=.18/a,this.b*=a,this.c*=a,this.e*=a)}}
var Pa=new function(){this.A=new Oa;var a,b,c,d,e,l,p,v,q,k,w,T;this.C=function(){var a=this.A;d=100/(a.f*a.f+.001);e=100/(a.g*a.g+.001);l=1-a.h*a.h*a.h*.01;p=-a.i*a.i*a.i*1E-6;a.a||(w=.5-a.n/2,T=5E-5*-a.o);v=1+a.l*a.l*(0<a.l?-.9:10);q=0;k=1==a.m?0:(1-a.m)*(1-a.m)*2E4+32};this.K=function(){this.C();var d=this.A;a=d.b*d.b*1E5;b=d.c*d.c*1E5;c=d.e*d.e*1E5+12;return 3*((a+b+c)/3|0)};this.I=function(Bb,Ta){var g=this.A,Ua=1!=g.s||g.v,E=g.v*g.v*.1,Va=1+3E-4*g.w,A=g.s*g.s*g.s*.1,Cb=1+1E-4*g.t,Db=1!=g.s,
Eb=g.x*g.x,Fb=g.g,Wa=g.q||g.r,Gb=g.r*g.r*g.r*.2,ra=g.q*g.q*(0>g.q?-1020:1020),Xa=g.p?((1-g.p)*(1-g.p)*2E4|0)+32:0,Hb=g.d,Ya=g.j/2,Ib=g.k*g.k*.01,sa=g.a,ta=a,Jb=1/a,Kb=1/b,Lb=1/c,g=5/(1+g.u*g.u*20)*(.01+A);.8<g&&(g=.8);for(var g=1-g,ua=!1,Za=0,U=0,V=0,ea=0,J=0,W,K=0,t,B=0,F,va=0,n,$a=0,C,wa=0,fa=Array(1024),X=Array(32),y=fa.length;y--;)fa[y]=0;for(y=X.length;y--;)X[y]=2*Math.random()-1;for(y=0;y<Ta;y++){if(ua)return y;Xa&&++$a>=Xa&&($a=0,this.C());k&&++q>=k&&(k=0,d*=v);l+=p;d*=l;d>e&&(d=e,0<Fb&&(ua=
!0));t=d;0<Ya&&(wa+=Ib,t*=1+Math.sin(wa)*Ya);t|=0;8>t&&(t=8);sa||(w+=T,0>w?w=0:.5<w&&(w=.5));if(++U>ta)switch(U=0,++Za){case 1:ta=b;break;case 2:ta=c}switch(Za){case 0:V=U*Jb;break;case 1:V=1+2*(1-U*Kb)*Hb;break;case 2:V=1-U*Lb;break;case 3:V=0,ua=!0}Wa&&(ra+=Gb,F=ra|0,0>F?F=-F:1023<F&&(F=1023));Ua&&Va&&(E*=Va,1E-5>E?E=1E-5:.1<E&&(E=.1));C=0;for(var Mb=8;Mb--;){B++;if(B>=t&&(B%=t,3==sa))for(W=X.length;W--;)X[W]=2*Math.random()-1;switch(sa){case 0:n=B/t<w?.5:-.5;break;case 1:n=1-B/t*2;break;case 2:n=
B/t;n=6.28318531*(.5<n?n-1:n);n=1.27323954*n+.405284735*n*n*(0>n?1:-1);n=.225*((0>n?-1:1)*n*n-n)+n;break;case 3:n=X[Math.abs(32*B/t|0)]}Ua&&(W=K,A*=Cb,0>A?A=0:.1<A&&(A=.1),Db?(J+=(n-K)*A,J*=g):(K=n,J=0),K+=J,ea+=K-W,n=ea*=1-E);Wa&&(fa[va%1024]=n,n+=fa[(va-F+1024)%1024],va++);C+=n}C=.125*C*V*Eb;Bb[y]=1<=C?32767:-1>=C?-32768:32767*C|0}return Ta}};
window.jsfxr=function(a){Pa.A.A(a);var b=Pa.K();a=new Uint8Array(4*((b+1)/2|0)+44);var b=2*Pa.I(new Uint16Array(a.buffer,44),b),c=new Uint32Array(a.buffer,0,44);c[0]=1179011410;c[1]=b+36;c[2]=1163280727;c[3]=544501094;c[4]=16;c[5]=65537;c[6]=44100;c[7]=88200;c[8]=1048578;c[9]=1635017060;c[10]=b;for(var b=b+44,c=0,d="data:audio/wav;base64,";c<b;c+=3)var e=a[c]<<16|a[c+1]<<8|a[c+2],d=d+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e>>18]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e>>
12&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e>>6&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e&63]);return d};function Qa(){this.da={}}Qa.prototype.add=function(a,b,c){this.da[a]=[];c.forEach(function(c,e){this.da[a].push({fa:0,count:b,Da:[]});for(var l=0;l<b;l++){var p=new Audio;p.src=jsfxr(c);this.da[a][e].Da.push(p)}},this)};
Qa.prototype.play=function(a){a=this.da[a];a=1<a.length?a[Math.floor(Math.random()*a.length)]:a[0];a.Da[a.fa].play();a.fa<a.count-1?a.fa++:a.fa=0};var z=new Qa;z.add("arrow",10,[[0,.13,.12,.21,.28,.7097,.11,.4399,,,,.2845,.6608,,,,,,1,,,,,.32]]);z.add("hitarrow",10,[[2,,.0664,,.1176,.7984,,-.5791,,,,,,,,,,,1,,,.0922,,.47]]);z.add("damage",10,[[3,,.0421,,.1467,.7815,,-.4846,,,,,,.4464,,,,,1,,,.2247,,.47]]);function Ra(a){return a}
function Sa(a){timeout=setTimeout(function(){ab===a&&(r(Ca),timeout=null)},1E3);return a}var ab=Ra(function(a,b){if(a==Ea&&"complete"==b){if(0===location.hash.indexOf("#vs="))try{return new bb(null,m(null,location.hash.substr(4)))}catch(c){alert("Blue print invalid!")}return cb()}});function r(a,b){var c=ab(a,b);c&&c!==ab&&(ab=c)}setInterval(function(){return r(Ha)},100);setInterval(function(){return r(Ia)},1E3);function D(a){return document.body.querySelectorAll(a)[0]}var db=Math.pow(2,-16);
function eb(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function G(a,b){return Math.sqrt(Math.pow(a[0]-b[0],2)+Math.pow(a[1]-b[1],2))}function fb(a,b,c){var d=a[0]-b[0];a=a[1]-b[1];return Math.abs(d)>c||Math.abs(a)>c?!1:Math.sqrt(Math.pow(d,2)+Math.pow(a,2))<c}function gb(a){return H(a,1/eb(a))}function hb(a,b){return Math.atan2(b[1]-a[1],b[0]-a[0])}function I(a,b){return[a[0]-b[0],a[1]-b[1]]}function L(a,b){return[a[0]+b[0],a[1]+b[1]]}function H(a,b){return[a[0]*b,a[1]*b]}
function ib(a,b){var c=eb(a);b=Math.atan2(a[1],a[0])+b;return[Math.cos(b)*c,Math.sin(b)*c]}function jb(a,b,c,d,e,l,p){this.C=a;this.A=document.createElement("div");kb(this,d,e);this.A.className="field-unit";this.A.ja=this;this.C.appendChild(this.A);this.type=l;this.A.dataset.unitType=l;this.setPosition(b,c);lb(this,p)}function kb(a,b,c){a.sizeCol=b;a.sizeRow=c;a.A.style.width=32*a.sizeCol+"px";a.A.style.height=32*a.sizeRow+"px"}function lb(a,b){a.command=b;a.A.dataset.command=b}
jb.prototype.setPosition=function(a,b){this.col=Math.max(0,Math.min(a,50-this.sizeCol));this.row=Math.max(0,Math.min(b,25-this.sizeRow));this.A.style.left=32*this.col+"px";this.A.style.top=32*this.row+"px"};jb.prototype.select=function(){this.A.classList.add("select");this.C.classList.add("select")};
var mb={archer:1,warrior:2,tank:3,1:"archer",2:"warrior",3:"tank"},nb={"wait-advance":1,advance:2,"advance-wait":3,"flank-left":4,"flank-right":5,1:"wait-advance",2:"advance",3:"advance-wait",4:"flank-left",5:"flank-right"};function ob(a){this.O=a;this.K=D("#game-hud");this.ga=D("#battle-time");this.I=D("#battle-result");this.A=D("#battle-balance-left");this.C=D("#battle-balance-right");this.K.style.display="block"}ob.prototype.Y=function(){this.K.style.display="none";this.I.innerHTML=""};
function pb(a){var b=qb(a);a=Object.keys(qb(a));return b[a[0]]/(b[a[0]]+b[a[1]])}function rb(a,b,c){a.A.dataset.username=b||"";a.C.dataset.username=c||""}ob.prototype.V=function(a){var b=60-a.getTime()/1E3<<0;this.ga.dataset.time=(10>b?"0":"")+b+":"+(1E3-a.getTime()%1E3<<0);a=pb(a);this.A.style.width=100*a+"%";this.A.dataset.winning=a>2/3;this.C.style.width=100*(1-a)+"%";this.C.dataset.winning=a<1/3};
function sb(a,b){var c=pb(b);if(c>1/3&&c<2/3)a.I.innerHTML='<div style="color: white">\n            <span class="result">DRAW!</span>\n            <span class="continue">Click to continue</span>\n        </div>';else{var d=c>1/3?"#ff0000":"#00ff00";a.I.innerHTML='<div style="color: '+d+'">\n            <span class="result" style="background: '+d+'">'+(c>2/3?"Victory":"Defeat")+'!</span>\n            <span class="winner">'+(c>2/3?a.A.dataset.username:a.C.dataset.username)+' wins!</span>\n            <span class="loser">'+
(c>2/3?a.C.dataset.username:a.A.dataset.username)+' defeated!</span>\n            <span class="continue">Click to continue</span>\n        </div>';return d}}function tb(a){var b=aa("layer-default");b.D.clearRect(0,0,b.P(),b.S());b.save().translate(b.P()/2,b.S()/2);b.arc(0,0,a.ka);M(a,"Soldier",function(a){return 0===a.G}).forEach(ub);M(a,"Soldier",function(a){return 0<a.G}).forEach(ub);M(a,"Arrow").forEach(ub);b.restore()}
function ub(a){var b=aa();b.save().fillStyle("red").translate(a.B[0],a.za()).rotate(a.$());a.V(b);b.restore()}function vb(){this.A=[];this.C={Soldier:[],Arrow:[]};this.I=[];this.ka=1200;this.K=0;this.I.push({left:N,right:N,oa:this.Ja.bind(this)});this.I.push({left:N,right:wb,oa:this.Ia.bind(this)})}f=vb.prototype;f.Y=function(){};f.getTime=function(){return this.K};f.va=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];this.A.push(b);this.C[b.na()].push(b)}};
function M(a,b,c){return a.C[b].filter(function(a){return!c||c(a)})}f.update=function(a){var b=Math.min(a,10);this.A.forEach(function(a){a.update(b/100)},this);a-=b;this.K+=b;xb(this);this.ka=Math.max(1200*(1-this.getTime()/6E4),400);return a};
function xb(a){var b=M(a,"Arrow",function(a){return 10>a.aa-G(a.la,a.B)});M(a,"Soldier").forEach(function(a,d){var e=this;0>=a.G||(M(this,"Soldier").forEach(function(b,p){d<=p||0>=b.G||a===b||fb(a.B,b.B,a.P())&&yb(e,a,b)}),b.forEach(function(b){b&&fb(a.B,b.B,zb)&&yb(e,a,b)}),fb(a.B,[0,0],this.ka)||O(a,H(gb(a.B),-1)))},a);b.forEach(function(b){a.A.splice(a.A.indexOf(b),1);a.C.Arrow.splice(a.C.Arrow.indexOf(b),1)})}
function yb(a,b,c){a.I.forEach(function(a){b instanceof a.left&&c instanceof a.right&&a.oa(b,c);c instanceof a.left&&b instanceof a.right&&a.oa(c,b)})}f.Ja=function(a,b){var c=G(a.B,b.B);0===c?(c=H([Math.random()-Math.random(),Math.random()-Math.random()],1/Number.A),O(a,c),O(b,H(c,-1))):(c=H(gb(I(a.B,b.B)),a.P()-c),O(a,H(c,1/a.weight*b.weight)),O(b,H(c,-1*a.weight/b.weight)))};f.Ia=function(a,b){b.pa(a)};
function qb(a){return M(a,"Soldier",function(a){return 0<a.G}).reduce(function(a,c){return a[c.color]=(a[c.color]||0)+1,a},{"#ff0000":0,"#00ff00":0})}
function Ab(a){function b(a,b,c){a=a*Math.PI-Math.PI/2;var e=[300*Math.cos(a),300*Math.sin(a)];c=new Nb(e,c);for(var k=0;k<c.J.length;k++){var w=new Ob(c,c.J[k],c.F[k]),T=L(w.J,e);d.va(new N(T[0],T[1],a+Math.PI,w,d,b,c.A[k]))}}var c=m("test-battle-string"),d=new vb;b(1,"#ff0000",a);b(0,"#00ff00",c);var e=new ob(d);rb(e,a.N,c.N||"Computer");return Sa(function(b){tb(d);e.V(d);if(b==Ca)return new Pb(d,e,a,c)})}
function Pb(a,b,c,d){var e={},l=(e[Ka]={"#ff0000":0,"#00ff00":0},e[La]={"#ff0000":0,"#00ff00":0},e),p=JSON.parse(JSON.stringify(l));return function(e,q){if(e==Da){for(var k=Math.min(q,1E3);0<k;)k=a.update(k);tb(a)}e===Ha&&b.V(a);if(e===Ia&&(k=pb(a),6E4<a.getTime()||0===k||1===k))return new Qb(a,b,c,d);if(e===Ka||e===La)l[e][q.ca.color]+=q.xa,p[e][q.ca.color]++}}
function Qb(a,b,c,d){var e=sb(b,a);return function(l){tb(a);if(l===u)return da(),b.Y(),"#ff0000"!==e||d.N||(ga=function(){return c}),new bb(c,d)}}
function P(a,b){b=b||"battle-string";var c=(a.N||"").split("").map(function(a){return a.charCodeAt(0)}),d=a.map(function(a){return[a.sizeCol,a.sizeRow,a.col,a.row,mb[a.type],nb[a.command]]}).reduce(function(a,b){return a.concat([b.length],b)},[]);a=new Uint8Array([d.length].concat(d.concat(c)));c=new TextDecoder("utf8");c=btoa(c.decode(a));document.getElementById(b).value=c;try{localStorage[b]=c}catch(e){}D("#sharelink").value="http://gtanczyk.warsztat.io/masterplan/index.html#vs="+c}
function m(a,b){for(var c=(new TextEncoder("utf8")).encode(atob(b||document.getElementById(a||"battle-string").value)),d=[],e=c[0],l=1;l<=e;){var p=c[l],v=c.slice(l+1,l+p+1);d.push({sizeCol:v[0],sizeRow:v[1],col:v[2],row:v[3],type:mb[v[4]],command:nb[v[5]]});l+=p+1}c=Array.from(c.slice(e+1));d.N=(c.map(function(a){return String.fromCharCode(a)}).join("").match(/(\w)+/g)||[]).join("");return d}
function bb(a,b){function c(){var a=v.map(function(a){return{sizeCol:a.sizeCol,sizeRow:a.sizeRow,col:a.col,row:a.row,type:a.type,command:a.command}});a.N=localStorage.username;return a}var d;try{d=localStorage["battle-string"]}catch(e){}!a&&d?(a=m(null,d),D("#username").value=a.N||""):a||(a=ga());var l=document.getElementById("game-designer");l.classList.add("visible");var p=document.getElementById("designer-field");p.style.width="1600px";p.style.height="800px";p.innerHTML="";var v=a.map(function(a){return new jb(p,
a.col,a.row,a.sizeCol,a.sizeRow,a.type,a.command)}),q,k;P(a);P(b||ga(),"test-battle-string");b&&b.N&&(D("#battle-versus").innerHTML='Opened a link from <a href="https://twitter.com/'+(b.N+'">'+b.N)+'</a>, and you will battle their masterplan! <button id="vs-reset">Click to reset</button><br/><br/>\n        <button id="button-test-battle">Play the battle</button>');return function(a,b){a===ya&&b.target.classList.contains("field-unit")&&(q=b.target.ja);if(a===za&&q){var d=q;d.C.classList.remove("drag");
d.A.classList.remove("drag");q=null}a===Aa&&q&&b.target.ja===q&&(d=q,d.C.classList.add("drag"),d.A.classList.add("drag"));a===Aa&&q&&b.target===p&&(q.setPosition(b.offsetX/32<<0,b.offsetY/32<<0),P(c()));if(a===ya&&"button-test-battle"===b.target.id)return l.classList.remove("visible"),Ab(c());a===za&&k&&p.contains(b.target)&&(d=k,d.A.classList.remove("select"),d.C.classList.remove("select"),k=null);a===za&&b.target.classList.contains("field-unit")&&(k=b.target.ja,k.select());a===u&&b.target.classList.contains("formation-button")&&
k&&(d=b.target.dataset.formation.split("x"),kb(k,d[0],d[1]),P(c()));if(a===u&&b.target.dataset.unitType&&k){var d=k,e=b.target.dataset.unitType;d.type=e;d.A.dataset.unitType=e;P(c())}a===u&&b.target.dataset.command&&k&&(lb(k,b.target.dataset.command),P(c()));a===u&&"tweet"===b.target.id&&window.open("https://twitter.com/home?status="+encodeURIComponent("#masterplan_js13k "+D("#sharelink").value));a===u&&"email"===b.target.id&&(location.href="mailto:"+document.querySelector("[type=email").value+"?subject=Check my MasterPlan&body="+
D("#sharelink").value);if(a===u&&"battle-string-load"===b.target.id)return new bb(m());a===u&&"vs-reset"===b.target.id&&(location.hash="",location.reload());a===xa&&"username"===b.target.id&&(localStorage.username=b.target.value,P(c()))}}
function cb(){var a=D("#game-intro");a.classList.add("visible");var b="Protect your archers, the more they live the more they kill.;Consider putting tanks in first line, they will stop the first wave.;Sending tanks or warriors later may (not) be a good tactic.;Make sure you don't spread too thin, or the enemy will gain advantage very fast.;Getting to enemy archers quickly may give you easy win.;Warriors are good for flanking maneuvers.;Melee warriors supported by archers can smash enemy front line very quickly.;Archers are most effective against stationary opponents.;Army of Warriors is effective and lame!;All units are most vulnerable when hit from behind.;A surrounded tank is certainly dead within milliseconds.".split(";");D("#hint").innerHTML=
"<b>Hint:</b> "+b[Math.random()*b.length<<0];return Ra(function(b,d){if(b===u&&"BUTTON"===d.target.tagName)return a.classList.remove("visible"),new bb})}function Rb(a,b,c,d,e){this.B=[a,b];this.direction=e;this.ga=c;this.K=d}f=Rb.prototype;f.ya=function(){};f.update=function(){};f.V=function(a){a.save().translate(-this.P()/2,-this.S()/2).fillRect(0,0,this.P(),this.S()).restore()};f.za=function(){return this.B[1]};f.$=function(){return this.direction};f.P=function(){return this.ga};f.S=function(){return this.K};
f.B=function(){return this.B};f.na=function(){return"Object"};function wb(a,b,c,d){Rb.call(this,a[0],a[1],10,1,hb(a,b));this.O=c;this.la=a;this.aa=G(a,b);this.C=d;this.Fa=gb(I(b,a))}h(wb,Rb);f=wb.prototype;f.update=function(a){a=H(this.Fa,20*a);this.B[0]+=a[0];this.B[1]+=a[1];a=Math.sin(G(this.la,this.B)/this.aa*Math.PI);this.A=this.direction-Math.PI/3*(1-a);this.I=this.B[1]-a*this.aa/10;G(this.la,this.B)>this.aa&&(a=this.O,a.A.splice(a.A.indexOf(this),1))};f.za=function(){return this.I};f.$=function(){return this.A};
f.pa=function(a){var b=this.ma(this)*(Q(a,"defence",a.ia)?Sb(a,this,a.ra):1);a.U=Math.max(a.U-b,0);r(La,{ca:a,xa:b});z.play("hitarrow")};f.ma=function(){return this.C};f.na=function(){return"Arrow"};var zb=32/3,Tb=0;
function N(a,b,c,d,e,l,p){c+=(Math.random()-Math.random())/1E3;Rb.call(this,a,b,32,32,c);this.R=Tb++;this.F=d;this.O=e;this.A=p;this.ta=0;this.W=1;this.M=[0,0];this.ea=c;this.Ga=D("#asset-soldier-"+this.A);this.Ha=D("#asset-soldier-"+this.A+"-dead");this.color=l;this.U=this.G=100;this.ia=1500;this.T=this.weight=1;"warrior"===this.A?(this.sa=600,this.X=42,this.ra=30,this.ba=50,this.qa=25,this.T=2,this.Ba=this.wa=!0):"tank"===this.A?(this.sa=600,this.X=46.2,this.ba=this.ra=90,this.qa=25,this.ia=300,
this.weight=3,this.Ba=this.wa=!0):"archer"===this.A&&(this.sa=500,this.X=300,this.ra=this.Ea=25,this.qa=this.ba=10);this.ha={}}N.prototype=Object.create(Rb.prototype);f=N.prototype;f.V=function(a){a.save().translate(-this.P()/2,-this.S()/2).drawImage(0<this.G?this.Ga:this.Ha,0,0);if(0<this.G){if(100>this.G){var b=this.G<<0;a.D.fillStyle="white";a.D.A="11px serif";a.D.fillText(b,10-a.D.measureText(b).width/2,0)}a.fillStyle(this.color).fillRect(0,10,10,5*this.G/100)}a.restore()};
function Q(a,b,c){if(!a.ha[b]||a.O.getTime()>a.ha[b])return a.ha[b]=a.O.getTime()+c,!0}f.ya=function(){return this.W};
f.update=function(a){if(0<this.G){if(!Ub(this,this.sa)){var b=this.F,c=this.O.getTime();(!b.A||b.A.Aa(c))&&0<b.F.length&&(b.A=b.F.splice(0,1)[0],b.A.start(c));b.A||(b.A=new R);b.A.Z(this)}}else this.H&&Vb(this,null);this.ta=this.ya()*a+this.ta*(1-a);this.B[0]=this.B[0]+this.M[0]*a;this.B[1]=this.B[1]+this.M[1]*a;this.direction=Math.atan2(Math.sin(this.$())*(1-a)+Math.sin(this.ea)*a,Math.cos(this.$())*(1-a)+Math.cos(this.ea)*a);0<this.G&&O(this,H([Math.cos(this.direction),Math.sin(this.direction)],
this.ta*(1-Math.random())*a/2));this.M=I(this.M,H(this.M,.1*a));eb(this.M)<db&&(this.M=[0,0]);this.G=this.U};function Wb(a,b){var c=M(a.O,"Soldier",function(c){return c.F.Ca!==a.F.Ca&&0<c.G&&fb(c.B,a.B,b)&&Xb(a.F,c,a)});if(0<c.length)return c.reduce(function(b,c){return G(c.B,a.B)<G(b.B,a.B)?c:b},c[0])}
function Ub(a,b){a.H&&(0>=a.H.G||G(a.H.B,a.B)>b)&&Vb(a,null);!a.H&&Q(a,"seek-"+b,1E3)&&Vb(a,Wb(a,b));if(a.H){var c=a.H.B,d=G(a.B,c);a.ea=hb(a.B,c);c=0;a.wa&&50<d&&600>d&&!Q(a,"charge",10)&&(c+=1);a.W=(a.Ba||d>a.X?1+c:0)*a.T;a.Ea&&d<a.X&&160<d&&Q(a,"arrow",1E3)&&(a.O.va(new wb(a.B,a.H.B,a.O,a.Ea)),z.play("arrow"));42>d&&Q(a,"sword",250)&&a.H.pa(a);return!0}}function O(a,b){a.M=L(a.M,b)}
function Sb(a,b,c){b=I(b.B,a.B);a=[Math.cos(a.direction),Math.sin(a.direction)];return Math.min(Math.abs(Math.atan2(b[0]*a[1]-b[1]*a[0],b[0]*a[0]+b[1]*a[1]))/Math.PI/c,.3)}f.ma=function(a){return(1-Sb(this,a,this.ba))*this.qa};f.pa=function(a){var b=(Q(this,"defence",this.ia)?Sb(this,a,this.ba):1)*a.ma(this);this.U=Math.max(this.U-b,0);r(Ka,{ca:this,xa:b});Vb(this,a);z.play("damage")};f.na=function(){return"Soldier"};
function Vb(a,b){if(a.H){var c=a.F,d=a.H,e=c.L[d.R].indexOf(a);0<=e&&c.L[d.R].splice(e,1);a.H=null}b&&a.F.claim(b,a)&&(a.H=b)}function S(){}S.prototype.start=function(a){this.startTime=a};S.prototype.Z=function(){};S.prototype.Aa=function(){return this.done};function R(a){this.A=a}h(R,S);R.prototype.Aa=function(a){return 0<=this.startTime&&a-this.startTime>this.A};R.prototype.Z=function(a){a.W=0*a.T};function Y(){}h(Y,S);Y.prototype.C=function(a){return a.F.J};
Y.prototype.Z=function(a){var b=this.C(a),c=hb(a.B,b);50<G(a.B,b)?(a.W=1*a.T,a.ea=c):(a.W=0*a.T,this.done=!0)};function Yb(a){this.A=a}h(Yb,Y);Yb.prototype.C=function(a){return L(ib([200,100*Math.sign(Math.cos(this.A))],this.A),a.F.J)};function Zb(a){Yb.apply(this,arguments)}h(Zb,Yb);Zb.prototype.C=function(a){return L(ib([200,-100*Math.sign(Math.cos(this.A))],this.A),a.F.J)};function Z(){}h(Z,S);Z.prototype.Z=function(a){Ub(a,800)||(this.done=!0)};
function Nb(a,b){var c=this,d=hb(a,[0,0]);this.A=[];this.J=[];this.F=[];this.L={};b.forEach(function(a){for(var b=a.sizeCol*a.sizeRow,e=[32*a.col,32*a.row],q=0;q<b;q++)switch(c.J.push(L([q%a.sizeCol*32,32*(q/a.sizeCol<<0)],e)),c.A.push(a.type),a.command){case "advance-wait":c.F.push([new Y,new R(1E4),new Z]);break;case "advance":c.F.push([new Y,new Z]);break;case "wait-advance":c.F.push([new R(1E4),new Z]);break;case "flank-left":c.F.push([new Yb(d),new Z]);break;case "flank-right":c.F.push([new Zb(d),
new Z])}});var e=[this.J.reduce(function(a,b){return Math.max(b[0],a)},0)/2,0];this.J=this.J.map(function(a){return ib(I(a,e),d+Math.PI/2)})}function Ob(a,b,c){this.Ca=a;this.J=b;this.F=c;this.A=null;this.L=a.L}function Xb(a,b,c){a.L[b.R]||(a.L[b.R]=[]);if(5>a.L[b.R].length)return!0;var d=G(c.B,b.B);if(a.L[b.R].filter(function(a){return G(a.B,b.B)>d}).length===a.L[b.R].length)return!0}Ob.prototype.claim=function(a,b){if(!Xb(this,a,b))return!1;this.L[a.R].push(b);return!0};}).call(window);

</script>
</head>

<body>
	<!-- assets -->
	<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gkDEigyAtVVggAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAB4SURBVFjD7VfLDsAgCIOF///l7rSTizp5aJZyMxFtoMUqsjnUmQ/vudfuChBAVKDDh7MroAsMD73bgqSKhb1UAQHIQ0J8II2yBRktqBzXzboSgL4NLcsgFklIAJUyRI/hv/aEIw847RHNWfLjXS8ow4xXrOzTUhI3cssYNHqG9WQAAAAASUVORK5CYII=" id="asset-soldier-warrior">
	<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gkDEig5lQeMCgAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAC/SURBVFjD7ZZtCoAwCIbd6kxdyvN4ql2qPzEqhvg1JpEQBavpfPRNgKch8Ia3K8QK45gEwZE3gAqLbVemkwY4XJmQIOCcoBfHcgSSite8r/axMYvHdW/CzZohgCY5eWjfv33VjNwjGYvrS5rmcBzLERSjmHgVsH9fB/KqkWQ3kuKUVk/28kvxbNnGEYJIDSFvDUBQpbP7pNABjeSSUR/w1br9uSichw6jaRBoAyCDQOX/GYX39mem4lmT1W+5EJz4zihIINpFJwAAAABJRU5ErkJggg==" id="asset-soldier-warrior-dead">

	<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gkDEigk9gHg0wAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAACySURBVFjD1VZbDsAgCLPE+1+5+13cIqI8Nn7JpNAW1lpx4PB7brzLe16SG34AloLiqADAjAJUir/mJQHYVOjdeZS0uqw7WXcU2DLnUjH2SACm4hEAzJtVkjzOKABURKlORw461vheoqNvcMxFsTFSAzDm4bkJYaAJnraZFaeHJU9vAKMWx+zA8LRrOEwCFs49bPipGLk3a0HaT0PrdHkSu79k+FrH2/egXAPyF8FV0JcTF5HDMyNBbtWDAAAAAElFTkSuQmCC" id="asset-soldier-archer">
	<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gkDEigo/7es+AAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAC/SURBVFjD7ZZtCoAwCIbd6kxdyvN4ql2qPzEqhvg1JpEQBavpfPRNgKch8Ia3K8QK45gEwZE3gAqLbVemkwY4XJmQIOCcoBfHcgSSite8r/axMYvHdW/CzZohgCY5eWjfv33VjNwjGYvrS5rmcBzLERSjmHgVsH9fB/KqkWQ3kuKUVk/28kvxbNnGEYJIDSFvDUBQpbP7pNABjeSSUR/w1br9uSichw6jaRBoAyCDQOX/GYX39mem4lmT1W+5EJz4zihIINpFJwAAAABJRU5ErkJggg==" id="asset-soldier-archer-dead">

	<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gkJDBsdJGpj9QAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAACjSURBVFjD7VbREoAgCHMe///L6zW9wgLErpOnNLkNnACKzfjwHEYHallsHgLwRP6LDISYOHx5SjW71LNEqXT2K0AAiMcgCUDQMDJEyFkitOiMuw5sAqsJoP+WRHBerWVB9E3f2CLcBMTxjLRGkzITsgOEZZaoL9iaACJSikHkWnYw+idKsbAAa4Oru4wyyK/Zqy/Fll4HosBvrw8WJ2cXRPmSHSqNI0GjWZKJAAAAAElFTkSuQmCC" id="asset-soldier-tank">
	<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gkJDB0Hj1I9CQAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAADvSURBVFjDxVZBDsMwCCPZPtVn8RJ/a8/apZ0mLUtsBkukqpFKY2MIYMYtF+xYWzMzayI4BJJgCHQR3AWFKCVugkeP8/HzfdkckzOON1spBEocQdhDIeCLQyLfweaAB28DCDBXFcCXPSszdStWOQAxJ2QSLaH4zEj4QD0ohSiDxLSgqZUwnURFCCQSrQjY2GvZisGXJNom74eVsMp7ah6oBseguL0IbPH8ItU2xN2ViSgCzDYtmBl6QYwllTKScNR86NWVCTZ5hP/IASQBI0ogW4kQgSgJj/77aztGdgj+Ho4ueFgxNdm9qs1mL69S4QlnbztJQYeCiQAAAABJRU5ErkJggg==" id="asset-soldier-tank-dead">

	<!-- intro -->
	<div id="game-intro">
		<h1>MasterPlan</h1>
		<p>MasterPlan is a <u>offline multiplayer</u> strategy game. It&apos;s battle gameplay is inspired by <a href="https://en.wikipedia.org/wiki/Legion_Gold">Legion Gold (2002)</a></p>
		<h2>How to play?</h2>
		<ol>
			<li>Create your master plan</li>
			<li>Play Battle</li>
			<li>Share with other player to compete</li>
		</ol>
		<p>Available units:</p>
		<ul>
			<li><div class="field-unit" data-unit-type="warrior"> </div> - Warrior: Fast, Fragile, Deadly</li>
			<li><div class="field-unit" data-unit-type="archer"> </div> - Archer: Kills from distance, dies fast.</li>
			<li><div class="field-unit" data-unit-type="tank"> </div> - Tank: Powerful, and slow.</li>
		</ul>
		<br>
		<center><button>Click here to play</button></center>
		<div id="hint" style="margin-top: 50px; text-align: center"></div>
	</div>
	<!-- HUD -->
	<div id="game-hud">
		<div id="battle-stats">
			<div id="battle-time"> </div>
			<div id="battle-balance"> 
					<div id="battle-balance-left"> </div>
					<div id="battle-balance-right"> </div>
				</div>
			</div>
		<div id="battle-result"></div>
	</div>
	<!-- Designer -->
	<div id="game-designer">
		<div id="battle-versus"></div>
		<h1>Create Master Plan</h1>
		<div class="designer-area" style="padding-bottom: 10px; border-bottom: 5px solid black;">
			<div id="designer-field">
			</div>			
			<div style="background: rgba(0, 0, 0, 0.1); padding: 2px 3px">
				<span style="float: right"><input id="battle-string"> <button id="battle-string-load">Load plan</button></span> Select unit to change formation, type or commands. Drag to move.
				<div style="clear: both"> </div> 
			</div>
			<div id="designer-formation" class="designer-unit-option">
				<h3>Formation</h3>
				<button class="formation-button" data-formation="4x4">4x4</button>
				<button class="formation-button" data-formation="16x1">16x1</button>
				<button class="formation-button" data-formation="1x16">1x16</button>
				<button class="formation-button" data-formation="8x2">8x2</button>
				<button class="formation-button" data-formation="2x8">2x8</button>
			</div>
			<div id="designer-actions">			
				<h3>Battle!</h3>
				<button id="button-test-battle">Play</button>
				vs
				<input id="test-battle-string"><br>				
			</div>
			<div id="designer-commands" class="designer-unit-option">
				<h3>Commands</h3>
				<button data-command="wait-advance">Wait&amp;Advance</button>
				<button data-command="advance">Advance</button>
				<button data-command="advance-wait">Advance&amp;Wait</button>
				<button data-command="flank-left">Flank Left</button>
				<button data-command="flank-right">Flank Right</button>
			</div>
			<div id="designer-unit-type" class="designer-unit-option">
				<h3>Unit Type</h3>
				<button data-unit-type="warrior">Warriors</button>
				<button data-unit-type="tank">Tanks</button>
				<button data-unit-type="archer">Archers</button>
				<button data-unit-type="cavalry" disabled>Cavalry (WIP)</button>
				<button data-unit-type="cavalry" disabled>Artillery (WIP)</button>
			</div>
		</div>
		<div id="designer-share" style="margin-top: 20px">
			<div>
				<h2>Share</h2>
				<p>What&apos;s your name/twitter username? <input id="username" placeholder="Bonaparte"></p>
				<p><b>Share link: </b><input id="sharelink" style="width: 500px"></p>
				<ul>
					<li>Twitter: <button id="tweet">Share on Twitter</button></li>
					<li>Email: <input placeholder="example@email.com" type="email"> <button id="email">Send email</button></li>
				</ul>
			</div>			
			<div>
				<h3>HOWTO multiplayer</h3><a name="multiplayer"> </a>
				<p>It&apos;s simple, and you can do it while being offline!</p>
				<ol>
					<li>Copy your share link to clipboard</li>
					<li>Send to a friend, or tweet to <a href="https://twitter.com/hashtag/masterplan_js13k?f=tweets&amp;vertical=default">#masterplan_js13k</a></li>
					<li>Open share link from other player</li>
					<li>Play the battle</li>
					<li>Improve your blueprint</li>
					<li>Repeat!</li>
				
			</ol></div>
		</div>
	</div>
</body>

</html>